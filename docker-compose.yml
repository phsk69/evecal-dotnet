services:
  evecal:
    build: .
    ports:
      - "8080:8080"
    volumes:
      - ./data:/app/data
    env_file:
      - .env
    environment:
      - EVE_CLIENT_ID=${EVE_CLIENT_ID}
      - EVE_CALLBACK_URL=${EVE_CALLBACK_URL:-http://localhost:8080/callback}
      - EVE_SCOPES=${EVE_SCOPES:-esi-calendar.read_calendar_events.v1 esi-corporations.read_corporation_membership.v1 esi-characters.read_corporation_roles.v1}
      - CALENDAR_REFRESH_MINUTES=${CALENDAR_REFRESH_MINUTES:-15}
    restart: unless-stopped
