# ci pipeline â€” makes sure nothing is bricked before we merge no cap ğŸ”¥
name: ci

on:
  push:
    branches: [develop, master]
  pull_request:
    branches: [develop, master]

jobs:
  build-and-test:
    runs-on: linux
    steps:
      - name: yoink the code ğŸ“¥
        uses: actions/checkout@v4

      - name: restore the litty CLI tool ğŸ› ï¸
        run: dotnet tool restore

      - name: litty build the whole thing bestie ğŸ—ï¸ğŸ”¥
        run: dotnet litty build --configuration Release

      - name: litty run the tests â€” check all the vibes ğŸ§ªğŸ”¥
        run: dotnet litty test --configuration Release --no-build
        env:
          MATRIX_WEBHOOK_URL: ${{ secrets.MATRIX_WEBHOOK_URL }}
